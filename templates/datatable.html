<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>日用电量查询</title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link href="" rel="stylesheet">
    <!-- <link rel="stylesheet" href="static/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="static/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="static/css/datatables1.5.1.min.css">
    <link rel="stylesheet" href="static/css/select2.min.css">
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
</head>

<body>
    <div class="page-wrapper">
        <!-- ============================================================== -->
        <!-- Bread crumb and right sidebar toggle -->
        <!-- ============================================================== -->
        <!-- <div class="row page-titles">
                <div class="col-md-5 align-self-center">
                    <h3 class="text-themecolor">Tab</h3>
                </div>
                <div class="col-md-7 align-self-center">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                        <li class="breadcrumb-item">Ui Element</li>
                        <li class="breadcrumb-item active">Tab</li>
                    </ol>
                </div>
                <div>
                    <button class="right-side-toggle waves-effect waves-light btn-inverse btn btn-circle btn-sm pull-right m-l-10"><i class="ti-settings text-white"></i></button>
                </div>
            </div> -->
        <!-- ============================================================== -->
        <!-- End Bread crumb and right sidebar toggle -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Container fluid  -->
        <!-- ============================================================== -->
        <div class="container-fluid">
            <!-- ============================================================== -->
            <!-- Start Page Content -->
            <!-- ============================================================== -->
            <div class="row">
                <div class="col-md-11" style="margin: auto;">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title" style="text-align: center;">专变用户日电量查询</h4>
                            <!-- <h6 class="card-subtitle">配置cookie+爬虫+查询</h6> -->
                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs" role="tablist">
                                <li class="nav-item"> <a class="nav-link active" data-toggle="tab" href="#query" role="tab"><span class="hidden-sm-up"><i class="ti-home"></i></span> <span class="hidden-xs-down">查询</span></a> </li>
                                <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#crawl" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down">爬虫</span></a> </li>
                                <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#cookies" role="tab"><span class="hidden-sm-up"><i class="ti-email"></i></span> <span class="hidden-xs-down">Cookies</span></a> </li>
                            </ul>
                            <!-- Tab panes -->
                            <div class="tab-content tabcontent-border">
                                <div class="tab-pane active" id="query" role="tabpanel">
                                    <div class="p-20">
                                        <div id="select" style="width:100%;border: 1px solid #c8c9ca; padding: 5px;margin:5px;">
                                            <form action="">
                                                <label for="area">区县:</label>
                                                <select class="js-example-basic-single" id="area" name="area" style="display: inline-block;padding-right: 10px;">
                                                    <option>Mustard</option>
                                                    <option>Ketchup</option>
                                                    <option>Relish</option>
                                                </select>
                                                <label for="consname">用户名称:</label>
                                                <select class="js-example-basic-multiple" name="consname" multiple="multiple" id="consname">
                                                    <option value="AL">Alabama</option>
                                                    <option value="WY">Wyoming</option>
                                                </select>
                                                <label for="consno">用户编号:</label>
                                                <select class="js-example-basic-multiple" name="consno" multiple="multiple" id="consno">
                                                    <option value="AL">Alabama</option>
                                                    <option value="WY">Wyoming</option>
                                                </select>
                                            </form>
                                        </div>
                                        <div id="table">
                                            <table id="example" class="display" cellspacing="0" width="100%">
                                                <thead>
                                                    <tr>
                                                        <th>用户编号</th>
                                                        <th>日期</th>
                                                        <th>用户名</th>
                                                        <th>区县</th>
                                                        <th>总电量</th>
                                                    </tr>
                                                </thead>
                                                <tfoot>
                                                    <tr>
                                                        <th>用户编号</th>
                                                        <th>日期</th>
                                                        <th>用户名</th>
                                                        <th>区县</th>
                                                        <th>总电量</th>
                                                    </tr>
                                                </tfoot>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane  p-20" id="crawl" role="tabpanel">2</div>
                                <div class="tab-pane p-20" id="cookies" role="tabpanel">3</div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- End PAge Content -->
            </div>
            <script src="static/js/jquery-1.12.4.min.js"></script>
            <script src="static/js/bootstrap.min.js"></script>
            <script src="static/js/jquery.dataTables.min.js"></script>
            <script src="static/js/datatables1.5.1.min.js"></script>
            <script src="static/js/pdfmake.min.js"></script>
            <script src="static/js/vfs_fonts.js"></script>
            <script src="static/js/select2.full.min.js"></script>
            <script src="static/js/select2zh-CN.js"></script>
            <script>
            // $(document).ready(function() {
            //     $.ajax({
            //             url: '/get_data',
            //             type: 'GET',
            //         })
            //         .done(function(result, status, xhr) {
            //             $('#example').DataTable({
            //                 "ajax": result
            //             });
            //         });
            // });
            $(document).ready(function() {
                $('.js-example-basic-single').select2();
                $('.js-example-basic-multiple').select2();



                $('#example').DataTable({
                    //显示正在加载
                    "processing": true,
                    //服务器处理
                    "serverSide": true,
                    //开启分页
                    "paging": true,
                    //分页样式
                    "pagingType": "full_numbers",
                    //自定义分页长度
                    "lengthMenu": [
                        [10, 20, 50, 100],
                        ['10', '20', '50', '100']
                    ],
                    //开启排序
                    "ordering": true,
                    //异步请求数据
                    "ajax": {
                        "type": "Post",
                        "url": "/get_data",
                        //"dataType": "json"
                        "data": function(d) {
                            d.test = "myValue";
                            // d.custom = $('#myInput').val();
                            // etc
                        }
                    },
                    //列对应关系
                    "columns": [
                        { "data": "consno" },
                        { "data": "datadate" },
                        { "data": "consnamefull" },
                        { "data": "consarea" },
                        { "data": "pape" }
                    ],
                    //国际化
                    "language": {
                        "sProcessing": "加载中...",
                        "sLengthMenu": "显示 _MENU_ 项结果",
                        "sZeroRecords": "没有匹配结果",
                        "sInfo": "显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",
                        "sInfoEmpty": "显示第 0 至 0 项结果，共 0 项",
                        "sInfoFiltered": "(由 _MAX_ 项结果过滤)",
                        "sInfoPostFix": "",
                        "sSearch": "搜索:",
                        "sUrl": "",
                        "sEmptyTable": "表中数据为空",
                        "sLoadingRecords": "载入中...",
                        "sInfoThousands": ",",
                        "oPaginate": {
                            "sFirst": "首页",
                            "sPrevious": "上页",
                            "sNext": "下页",
                            "sLast": "末页"
                        },
                        "oAria": {
                            "sSortAscending": ": 以升序排列此列",
                            "sSortDescending": ": 以降序排列此列"
                        }
                    },
                    // "dom": "Bfrtip"
                    // "buttons": [
                    //     'copy', 'excel', 'pdf'
                    // ]
                });
                // var table = $('#example').DataTable();

                // Apply the filter
                // table.columns().every(function() {
                //     var column = this;

                //     $('input').on('keyup change', function() {
                //         column
                //             .search(this.value)
                //             .draw();
                //     });
                // });
                // $('input').on('keyup', function() {
                //     table
                //         .columns(2)
                //         .search(this.value)
                //         .draw();
                // });

                //     $('#example').DataTable({
                //     dom: 'Bfrtip',
                //     buttons: [
                //         'copy', 'csv', 'excel', 'pdf', 'print'
                //     ]
                // });
                // $('#example').DataTable({
                //     dom: 'Bfrtip',
                //     buttons: [{
                //         extend: 'excel',
                //         exportOptions: {
                //             columns: [0, 1, 2, 4]
                //         }
                //     }, ]
                // });
            });
            </script>
</body>

</html>